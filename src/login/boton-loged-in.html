

<link rel="import" href="../styles/dropdown-styles.html">
<link rel="import" href="../behaviors/dropdown-behavior.html">

<link rel="import" href="../notificaciones/gestion-notificaciones.html">


<dom-module id="boton-loged-in">
  <template>
    <style include="dropdown-styles">
      :host {
        display: block;
      }  
      p{
        height: 24px;
        margin: 0 0 25px 0;
        font-size: 20px;
        font-weight: bold;
        color: var(--app-primary-color);
      }
      gestion-notificaciones{
        margin-bottom: 15px; 
      }
    </style>
    <paper-icon-button icon="exit-to-app" on-tap="abrirDrop"></paper-icon-button>
    <iron-dropdown horizontal-align="right"
      horizontal-align="right" 
      vertical-align="top" 
      vertical-offset="40"
      id="dropd"
      open-animation-config="[[animacionEntrada]]" 
      close-animation-config="[[animacionSalida]]" 
    >
      <div class="dropdown-content">
        <p>[[datosUser.nombre]]</p>
        <gestion-notificaciones token="[[token]]" user="[[user]]" datos-user="[[datosUser]]"></gestion-notificaciones>
        <paper-button raised on-tap="logout">Cerrar sesi√≥n</paper-button>
      </div>
    </iron-dropdown>
  </template>
  <script>
    Polymer({
      is: 'boton-loged-in',

      behaviors: [DropdownBehavior],

      properties: {
        datosUser: Object,
        user: Object
      },

      logout: function() {
        this.fire('logout-request');
        this.$.dropd.close();
      },
    });
  </script>
</dom-module>
